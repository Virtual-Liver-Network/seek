
<% truncate_length_for_boxes = 22 -%>

<%= render :partial => "general/item_title",:locals=>{:item=>@presentation} %>

<ul class="sectionIcons">
    <%= asset_buttons @presentation,@display_presentation.version -%>
</ul>
<br/>

<div class="show_basic">

  <%= render :partial=>"assets/upload_new_version_form", :locals=>{:resource=>@presentation} -%>

  <div class="main_content_left_box">

    <%= render :partial=>"assets/resource_version_details", :locals=>{:displayed_resource=>@display_presentation, :resource=>@presentation} -%>

    <div class="box_about_actor">
      <%= item_description @display_presentation.description -%>

      <%= render :partial => 'assets/fileinfo',:object=>@display_presentation.content_blob -%>
      <br/>

      <%= render :partial => "assets/special_auth_code_display", :locals => {:resource => @presentation} %>


    </div>
  </div>

  <%= render :partial=>"assets/resource_main_content_right",:locals => { :resource => @presentation, :versioned_resource=>@display_presentation } %>

  <div style="clear:both">
    <%= render :partial=>"general/isa_graph", :locals => {:root_item => @presentation, :current_item => @presentation, :deep => true} %>
  </div>

  <div style="clear:both;">
    <%= render :partial=>"general/items_related_to",:object => @presentation %>
  </div>

</div>

<script type="text/javascript">
  var fp = null;

  function toggle_asset_view_link_title(){
      var viewer = document.getElementById("div_for_viewerPlaceHolder");

      switch($("asset_view_link").innerHTML){
          case "View Online?":
            $("asset_view_link").innerHTML ="Close View?" ;
            viewer.style.display = "block";
            break;
          case "Close View?":
            $("asset_view_link").innerHTML ="View Online?";
            viewer.style.display = "none";
            break;
          default:
          break;
      }

  }
  </script>